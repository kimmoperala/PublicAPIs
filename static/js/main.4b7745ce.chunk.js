(this.webpackJsonppyorat=this.webpackJsonppyorat||[]).push([[0],{19:function(e,t,a){e.exports=a(27)},26:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),o=a.n(r),l=a(8),s=a(9),c=a(10),u=a(15),p=a(14),h=a(30),m=a(31),f=a(29),v=a(32),b=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={zoom:n.props.info[2]},n}return Object(s.a)(a,[{key:"render",value:function(){var e=[this.props.info[0],this.props.info[1]];return i.a.createElement(h.a,{center:e,zoom:this.state.zoom},i.a.createElement(m.a,{attribution:'&copy <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),i.a.createElement(f.a,{position:e},i.a.createElement(v.a,null,this.props.info[3],i.a.createElement("br",null),"Vapaita py\xf6ri\xe4: ",this.props.info[4])))}}]),a}(i.a.Component),d=function(e){Object(u.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={items:[],isLoaded:!1,value:"",lat:60.167,lon:24.942,zoom:14},n.handleChange=n.handleChange.bind(Object(c.a)(n)),n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=JSON.parse(e.target.value);this.setState({value:t,lat:t.lat,lon:t.lon})}},{key:"componentDidMount",value:function(){var e=this;fetch("https://api.digitransit.fi/routing/v1/routers/hsl/index/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"{\n          bikeRentalStations {\n                    stationId\n                    name\n                    bikesAvailable\n                    spacesAvailable\n                    lat\n                    lon\n                    allowDropoff\n                    }\n        }"}),json:!0}).then((function(e){return e.json()})).then((function(t){e.setState({items:t.data.bikeRentalStations,isLoaded:!0})}))}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.items,n=e.value;if(!t)return i.a.createElement("option",null,"Lataa...");var r,o=[this.state.lat,this.state.lon,this.state.zoom,this.state.value.name,this.state.value.bikesAvailable];return r=60.167===this.state.lat?i.a.createElement("p",null,i.a.createElement("br",null)):i.a.createElement("p",null,n.name,", vapaita py\xf6ri\xe4: ",n.bikesAvailable,", vapaita py\xf6r\xe4paikkoja: ",n.spacesAvailable),i.a.createElement(i.a.Fragment,null,i.a.createElement("select",{onChange:this.handleChange},i.a.createElement("option",{hidden:!0},"Valitse asema"),a.map((function(e){return i.a.createElement("option",{key:e.stationId,value:JSON.stringify(e)},e.name)}))),r,i.a.createElement(b,{info:o}))}}]),a}(i.a.Component),y=(a(26),function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("h1",null,"Polkupy\xf6r\xe4asemat"),i.a.createElement(d,null))});o.a.render(i.a.createElement(y,null),document.getElementById("root"))}},[[19,1,2]]]);
//# sourceMappingURL=main.4b7745ce.chunk.js.map